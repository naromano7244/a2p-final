<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>A2P Compliance Guide</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Base Styles */
    * { box-sizing: border-box; }
    
    :root {
      --primary-color: #5c27d4;
      --primary-light: #f3efff;
      --text-color: #2d3748;
      --border-color: #e2e8f0;
      --success-color: #48bb78;
      --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
      --shadow-md: 0 4px 16px rgba(0,0,0,0.08);
      --radius-md: 12px;
      --radius-sm: 8px;
    }

    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
      background: #f7f7fa;
      color: var(--text-color);
      line-height: 1.6;
    }

    /* Layout */
    .container {
      max-width: 850px;
      margin: 40px auto;
      background: white;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-md);
      overflow: hidden;
    }

    @media (max-width: 900px) {
      .container {
        margin: 20px;
        width: auto;
      }
    }

    /* Header Styles */
    .header {
      background: var(--primary-color);
      color: white;
      text-align: center;
      padding: 40px 20px;
      position: relative;
      overflow: hidden;
    }

    .header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #4c21b0, #6e3de8);
    }

    .header h1 { margin: 0; font-size: 28px; font-weight: 700; line-height: 1.4; }
    .header p  { margin: 15px 0 0; font-size: 16px; opacity: 0.9; }

    /* Disclosure */
    .disclosure {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
      border-radius: var(--radius-sm);
      padding: 10px 20px;
      margin: 20px 40px 0;
      text-align: center;
      font-size: 14px;
    }

    /* Sections */
    .section {
      padding: 35px 30px;
      border-bottom: 1px solid var(--border-color);
      transition: background-color 0.2s ease;
    }
    .section:hover { background-color: #fafafa; }
    .section:last-child { border: none; }

    h2 {
      font-size: 22px;
      margin-bottom: 20px;
      color: var(--primary-color);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Images */
    .screenshot-wrapper { position: relative; margin: 20px 0; }
    .screenshot {
      max-width: 100%;
      border-radius: var(--radius-sm);
      box-shadow: var(--shadow-sm);
      background: #f8fafc;
      opacity: 0;
      transition: opacity 0.3s ease;
      border: 1px solid var(--border-color);
    }
    .screenshot.loaded { opacity: 1; }

    /* Code blocks */
    pre {
      background: #f8fafc;
      padding: 20px;
      border-radius: var(--radius-sm);
      white-space: pre-wrap;
      word-break: break-word;
      font-family: monospace;
      font-size: 14px;
      border: 1px solid var(--border-color);
      margin: 15px 0;
    }
    code {
      background: #f1f5f9;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 14px;
      color: var(--primary-color);
    }

    /* Copy button */
    .copy-btn {
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 8px 16px;
      font-size: 14px;
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .copy-btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-sm); }
    .copy-btn:active { transform: translateY(0); }

    /* PDF Section */
    .pdf-section {
      background: var(--primary-light);
      text-align: center;
      padding: 40px 30px;
    }
    .pdf-button {
      background: var(--primary-color);
      color: white;
      padding: 12px 24px;
      border-radius: var(--radius-sm);
      text-decoration: none;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .pdf-button:hover { transform: translateY(-1px); box-shadow: var(--shadow-sm); }

    /* List */
    ul { padding-left: 20px; margin: 20px 0; }
    li { margin-bottom: 12px; }
    li::marker { color: var(--primary-color); }

    /* CTA Button */
    .cta-btn {
      background: #dc2626;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .cta-btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-sm); }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: var(--radius-sm);
      max-width: 90%;
      max-height: 90%;
      overflow: auto;
      position: relative;
    }
    .modal-close {
      position: absolute;
      top: 10px; right: 10px;
      background: transparent;
      border: none;
      font-size: 24px;
      cursor: pointer;
    }

  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>üßô‚Äç‚ôÇÔ∏è Just like magic!<br>Your A2P Compliance Kit is Ready!</h1>
      <p>Thanks again for using A2P Wizard. Below is everything you need to get your campaign approved.</p>
    </div>

    <!-- Disclosure -->
    <div class="disclosure">
      ‚ö†Ô∏è Important: If your campaign was previously rejected, please <u>recreate and resubmit your campaign</u> to ensure approval. Resubmissions may default to the original submission.
    </div>

    <!-- CTA After Disclosure -->
    <div class="section" style="text-align:center; background:#f9f9ff; padding:25px;">
      <h3 style="color:var(--primary-color); margin-bottom:10px;">üìà Agencies: Want more time to grow revenue?</h3>
      <p style="margin:0 auto; max-width:600px;">Get done for you service for only $50!</p>
      <button class="cta-btn open-form-btn">Get done for you service for only $50!</button>
    </div>

    <!-- Screenshot Proofs -->
    <div class="section">
      <h2>üì∏ Screenshot Proofs</h2>
      <div class="image-loading" id="imgLoading">Images rendering... please wait</div>
      <div class="screenshot-wrapper">
        <img id="img1" class="screenshot" alt="Initial Consent Screenshot">
        <code id="img1url"></code>
        <button class="copy-btn" onclick="copyText('img1url', this)">Copy</button>
      </div>
      <div class="screenshot-wrapper">
        <img id="img2" class="screenshot" alt="Terms Screenshot">
        <code id="img2url"></code>
        <button class="copy-btn" onclick="copyText('img2url', this)">Copy</button>
      </div>
    </div>

    <!-- Templates -->
    <div class="section">
      <h2>üìÑ Copy & Paste Templates</h2>
      <p><strong id="biz1"></strong> Pt 1 Opt In: <code id="img1link"></code></p>
      <p>Pt 2 Opt In: <code id="img2link"></code></p>
    </div>

    <!-- Use Case -->
    <div class="section">
      <h2>üìÉ Use Case Description</h2>
      <img src="https://i.ibb.co/w8d1GfT/IMAGE-ONE.png" class="screenshot loaded" alt="Use Case Screenshot">
      <pre id="useCase">Loading use case description...</pre>
      <button class="copy-btn" onclick="copyText('useCase', this)">Copy</button>
    </div>

    <!-- Sample Messages -->
    <div class="section">
      <h2>üí¨ Sample Messages</h2>
      <p><strong>Message One:</strong></p>
      <pre id="msg1">Loading...</pre>
      <button class="copy-btn" onclick="copyText('msg1', this)">Copy</button>
      <p><strong>Message Two:</strong></p>
      <pre id="msg2">Loading...</pre>
      <button class="copy-btn" onclick="copyText('msg2', this)">Copy</button>
    </div>

    <!-- User Consent -->
    <div class="section">
      <h2>üìÑ User Consent Copy</h2>
      <img src="https://i.ibb.co/kgm5KXW9/three.png" class="screenshot loaded" alt="User Consent Screenshot">
      <pre id="consentCopy">Loading...</pre>
      <button class="copy-btn" onclick="copyText('consentCopy', this)">Copy</button>
    </div>

    <!-- Opt-In Message -->
    <div class="section">
      <h2>üìú Opt-In Message</h2>
      <img src="https://i.ibb.co/m51b0yZd/IMAGE-2-USE.png" class="screenshot loaded" alt="Opt-In Screenshot">
      <pre id="optInMessage">Loading...</pre>
      <button class="copy-btn" onclick="copyText('optInMessage', this)">Copy</button>
    </div>

    <!-- Tips -->
    <div class="section">
      <h2>üí° Tips for Approval</h2>
      <ul>
        <li>Try submitting between 8am-11am on weekdays</li>
        <li>Use a fresh number/campaign if resubmitting</li>
        <li>Brand approval usually takes 24 hours</li>
        <li><strong>Be sure</strong> to follow all best practices to avoid delays</li>
      </ul>
      <img src="https://i.ibb.co/S4JzfBYz/image-4.png" class="screenshot loaded" alt="Tips Screenshot">
    </div>

    <!-- PDF Section -->
    <div class="pdf-section">
      <h3>Need to send this to a client? Here's a white labeled guide!</h3>
      <a href="#" onclick="window.print()" class="pdf-button">Download PDF</a>
    </div>

    <!-- CTA After PDF -->
    <div class="section" style="text-align:center; background:#f9f9ff; padding:25px;">
      <h3 style="color:var(--primary-color); margin-bottom:10px;">üìà Agencies: Want more time to grow revenue?</h3>
      <p style="margin:0 auto; max-width:600px;">Get done for you service for only $50!</p>
      <button class="cta-btn open-form-btn">Get done for you service for only $50!</button>
    </div>

  </div>

  <!-- Modal -->
  <div id="modal-form" class="modal">
    <div class="modal-content">
      <button class="modal-close" id="modal-close">&times;</button>
      <iframe
        src="https://api.leadconnectorhq.com/widget/form/21SbtJgXZ5jDnEZKQ3K9"
        style="width:100%;height:100%;border:none;border-radius:4px"
        data-layout="{'id':'INLINE'}"
        data-trigger-type="alwaysShow"
        data-activation-type="alwaysActivated"
        data-deactivation-type="neverDeactivate"
        data-form-name="A2P Contact Us - Results Page Version"
        data-height="590"
        data-layout-iframe-id="inline-21SbtJgXZ5jDnEZKQ3K9"
        data-form-id="21SbtJgXZ5jDnEZKQ3K9"
        title="A2P Contact Us - Results Page Version"
      ></iframe>
      <script src="https://link.msgsndr.com/js/form_embed.js"></script>
    </div>
  </div>

  <script>
    async function fetchData() {
      const params = new URLSearchParams(window.location.search);
      const id = params.get("id");
      if (!id) return;
      try {
        const res = await fetch("https://script.google.com/macros/s/AKfycbxc0m07Q1u1c3JyyKAKTdYvmrkj6C9UxdI-wjIZM7b0uidEreM-G31Ub3LQCObmhiIs/exec?id=" + id);
        const data = await res.json();
        const img1 = document.getElementById("img1");
        const img2 = document.getElementById("img2");
        img1.onload = () => img1.classList.add("loaded");
        img2.onload = () => img2.classList.add("loaded");
        img1.src = data.img1;
        img2.src = data.img2;
        document.getElementById("biz1").textContent = data.business_name;
        document.getElementById("img1url").textContent = data.img1;
        document.getElementById("img2url").textContent = data.img2;
        document.getElementById("img1link").textContent = data.img1;
        document.getElementById("img2link").textContent = data.img2;
        document.getElementById("useCase").textContent = data.use_case;
        document.getElementById("msg1").textContent = data.msg1;
        document.getElementById("msg2").textContent = data.msg2;
        document.getElementById("consentCopy").textContent = data.consentCopy;
        document.getElementById("optInMessage").textContent = data.optInMessage;
      } catch (err) {
        console.error(err);
      }
    }

    function copyText(elId, btn) {
      const el = document.getElementById(elId);
      navigator.clipboard.writeText(el.textContent.trim()).then(() => {
        const msg = document.createElement("span");
        msg.className = "copied-msg";
        msg.innerHTML = "Copied!";
        btn.insertAdjacentElement("afterend", msg);
        setTimeout(() => msg.remove(), 2000);
      });
    }

    // Modal handlers
    document.querySelectorAll('.open-form-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.getElementById('modal-form').style.display = 'flex';
      });
    });
    document.getElementById('modal-close').addEventListener('click', () => {
      document.getElementById('modal-form').style.display = 'none';
    });

    fetchData();
  </script>
</body>
</html>
